(function(e){"use strict";var t=e(document.documentElement),n=window.Mozilla.Client,r=function(e,t){var n=new CustomEvent("mozUITour",{bubbles:!0,detail:{action:e,data:t||{}}});document.dispatchEvent(n)},i=function(e){function n(r){if(typeof r.detail!="object")return;if(r.detail.callbackID!==t)return;document.removeEventListener("mozUITourResponse",n),e(r.detail.data)}var t=Math.random().toString(36).replace(/[^a-z]+/g,"");return document.addEventListener("mozUITourResponse",n),t},s=function(n){n&&(t.addClass("show-refresh"),e("#refresh-firefox").on("click",function(){r("resetFirefox")}))},o=function(){var e=n._getFirefoxMajorVersion(),r=parseInt(t.attr("data-latest-firefox"),10);return e===r?"firefox-latest":e>r?"firefox-pre-release":"firefox-old"},u=function(){var e=o();t.addClass(e),e==="firefox-latest"&&n.isFirefoxDesktop&&n.getFirefoxDetails(function(e){e.channel==="release"&&e.accurate&&r("getConfiguration",{callbackID:i(s),configuration:"canReset"})})};(n.isFirefoxDesktop||n.isFirefoxAndroid)&&u()})(window.jQuery);
